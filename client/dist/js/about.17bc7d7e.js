"use strict";(self["webpackChunkMoMa"]=self["webpackChunkMoMa"]||[]).push([[443],{643:function(e,t,a){a.d(t,{Z:function(){return n}});var s=a(6265),l=a.n(s);const o="http://localhost:5000/api/categories";class n{static async getCategoriesByAccountUsername(e){const t=await l().get(`${o}/username/${e}`);return t.data}static async getCategoryByName(e){const t=await l().get(`${o}/name/${e}`);return t.data}static async addCategory(e){const t=await l().post(o,e);return t.data}static async updateCategory(e,t){const a=await l().patch(`${o}/${e}`,t);return a.data}static async deleteCategory(e){const t=await l()["delete"](`${o}/${e}`);return t.data}}},268:function(e,t,a){a.d(t,{Z:function(){return n}});var s=a(6265),l=a.n(s);const o="http://localhost:5000/api/transactions";class n{static async getTransactionsByAccountUsername(e){const t=await l().get(`${o}/username/${e}`);return t.data}static async getTransactionByName(e){const t=await l().get(`${o}/name/${e}`);return t.data}static async addTransaction(e){const t=await l().post(o,e);return t.data}static async updateTransaction(e,t){const a=await l().patch(`${o}/${e}`,t);return a.data}static async deleteTransaction(e){const t=await l()["delete"](`${o}/${e}`);return t.data}}},4659:function(e,t,a){a.d(t,{Z:function(){return n}});var s=a(6265),l=a.n(s);const o="http://localhost:5000/api/wallets";class n{static async getWalletsByAccountUsername(e){const t=await l().get(`${o}/username/${e}`);return t.data}static async getWalletByName(e){const t=await l().get(`${o}/name/${e}`);return t.data}static async addWallet(e){const t=await l().post(o,e);return t.data}static async updateWallet(e,t){const a=await l().patch(`${o}/${e}`,t);return a.data}static async deleteWallet(e){const t=await l()["delete"](`${o}/${e}`);return t.data}}},1204:function(e,t,a){a.d(t,{Z:function(){return d}});var s=a(3396),l=a(5101),o=a(3369),n=a(3289);const r=(0,s.Uk)(" mdi-plus ");function i(e,t,a,i,u,c){return(0,s.wg)(),(0,s.j4)(o.K,null,{default:(0,s.w5)((()=>[(0,s.Wm)(l.T,{class:"rounded-circle floating-button",color:"success",onClick:c.buttonAction},{default:(0,s.w5)((()=>[(0,s.Wm)(n.t,{size:"30"},{default:(0,s.w5)((()=>[r])),_:1})])),_:1},8,["onClick"])])),_:1})}var u={methods:{buttonAction(){this.$emit("clicked")}}},c=a(89);const m=(0,c.Z)(u,[["render",i],["__scopeId","data-v-2965e974"]]);var d=m},1025:function(e,t,a){a.r(t),a.d(t,{default:function(){return x}});var s=a(3396),l=a(9242),o=a(7139),n=a(3909),r=a(652),i=a(5101),u=a(1489),c=a(6572),m=a(4075),d=a(6422),p=a(3369),w=a(6824),h=a(8521),g=a(9234),f=a(1285),y=a(2902);const W=(0,s.Uk)(" Account Settings "),_=(0,s._)("br",null,null,-1),k={for:"file-upload"},v=["rules"],C=(0,s._)("br",null,null,-1),U=(0,s.Uk)(" Delete "),b=(0,s.Uk)(" Edit ");function $(e,t,a,$,V,Z){const A=(0,s.up)("app-dialog");return(0,s.wg)(),(0,s.j4)(p.K,null,{default:(0,s.w5)((()=>[(0,s.Wm)(A,{text:V.deleteMessage,ref:"dialog",onConfirm:Z.deleteAccount},null,8,["text","onConfirm"]),(0,s.Wm)(w.o,{"no-gutters":""},{default:(0,s.w5)((()=>[(0,s.Wm)(h.D,{sm:"10",class:"mx-auto"},{default:(0,s.w5)((()=>[(0,s.Wm)(u._,{class:"pa-5"},{default:(0,s.w5)((()=>[(0,s.Wm)(c.E,null,{default:(0,s.w5)((()=>[W])),_:1}),(0,s.Wm)(m.J),_,(0,s._)("label",k,[(0,s.Wm)(r.V,{size:"100",class:"custom-file-upload clickable account-image",rules:V.rules,readonly:""},{default:(0,s.w5)((()=>[(0,s.Wm)(f.f,{src:V.imageUrl},null,8,["src"])])),_:1},8,["rules"])]),(0,s._)("input",{id:"file-upload",type:"file",onChange:t[0]||(t[0]=(...e)=>Z.selectedFile&&Z.selectedFile(...e)),rules:V.rules},null,40,v),(0,s.Wm)(d.O,{ref:"form",onSubmit:(0,l.iM)(Z.submitForm,["prevent"]),class:"pa-5",enctype:"multipart/form-data"},{default:(0,s.w5)((()=>[(0,s.Wm)(y.h,{label:"Username",modelValue:V.account.username,"onUpdate:modelValue":t[1]||(t[1]=e=>V.account.username=e),"prepend-icon":"mdi-account",rules:V.rules},null,8,["modelValue","rules"]),(0,s.Wm)(y.h,{type:"password",label:"Previous Password",modelValue:V.previousPassword,"onUpdate:modelValue":t[2]||(t[2]=e=>V.previousPassword=e),"prepend-icon":"mdi-shield-key",rules:V.rules},null,8,["modelValue","rules"]),(0,s.Wm)(y.h,{type:"password",label:"New Password",modelValue:V.newPassword,"onUpdate:modelValue":t[3]||(t[3]=e=>V.newPassword=e),"prepend-icon":"mdi-key",rules:V.rules},null,8,["modelValue","rules"]),(0,s.Wm)(y.h,{type:"password",label:"Repeat Password",modelValue:V.repeatedPassword,"onUpdate:modelValue":t[4]||(t[4]=e=>V.repeatedPassword=e),"prepend-icon":"mdi-key",rules:V.rules},null,8,["modelValue","rules"]),V.message?((0,s.wg)(),(0,s.j4)(n.w,{key:0,"close-text":"Close Alert",color:V.messageColor,light:"",dismissible:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(V.message),1)])),_:1},8,["color"])):(0,s.kq)("",!0),C,(0,s.Wm)(h.D,null,{default:(0,s.w5)((()=>[(0,s.Wm)(w.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(i.T,{onClick:(0,l.iM)(Z.openConfirm,["prevent"]),class:"mt-3",color:"error",slot:"activator"},{default:(0,s.w5)((()=>[U])),_:1},8,["onClick"]),(0,s.Wm)(g.C),(0,s.Wm)(i.T,{type:"submit",class:"mt-3",color:"primary"},{default:(0,s.w5)((()=>[b])),_:1})])),_:1})])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1})])),_:1})}var V=a(3345),Z=a(9172),A=a(8082),M=a.n(A),T={data(){return{deleteMessage:"Are you sure to delete Account and all linked informations?",message:"",messageColor:"",dialog:!1,rules:[e=>!!e||"This field is required!"],account:{username:"",password:"",image:""},previousPassword:"",newPassword:"",repeatedPassword:"",image:"",imageUrl:a(2315)}},async mounted(){const e=await V.Z.getAccountByUsername(this.$route.params.username);this.account=e[0],this.imageUrl="http://localhost:5000/"+this.account.image},components:{appDialog:Z.Z},methods:{selectedFile(e){this.image=e.target.files[0],this.imageUrl=URL.createObjectURL(e.target.files[0])},showMessage(e,t){this.message=e,this.messageColor=t},openConfirm(){this.previousPassword==this.account.password?this.$refs.dialog.open():this.showMessage("Insert account password before delete.","red lighten-1")},async deleteAccount(){try{await V.Z.deleteAccount(this.account._id),this.$emit("logout"),vm.$forceUpdate()}catch(e){console.log(e.errorMessage),this.showMessage("An Error Occurred","orange darken-1")}},async submitForm(){if(""!=this.account.username)if(this.newPassword==this.repeatedPassword||""==this.newPassword)if(M().AES.decrypt(this.account.password,"pippo").toString(M().enc.Utf8)==this.previousPassword)try{if(""!=this.newPassword){this.account.password=M().AES.encrypt(this.newPassword,"pippo");const e=new FormData,t=this.image=this.image;e.append("image",t),e.append("old_image",this.account.image),e.append("username",this.account.username),e.append("password",this.newPassword);const a=await V.Z.updateAccount(this.account._id,e),s=await V.Z.getAccountByID(this.account._id);this.$emit("update-account",s),this.$router.push({name:"home",params:{message:a.message}})}}catch(e){this.showMessage(e.errorMessage,"red lighten-1")}else this.showMessage("Incorrect Account Password","red lighten-1");else this.showMessage("Passwords do not match","red lighten-1");else this.showMessage("Username can't be blank","red lighten-1")}}},D=a(89);const B=(0,D.Z)(T,[["render",$]]);var x=B},4692:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var s=a(3396),l=a(9242),o=a(7139),n=a(3909),r=a(5101),i=a(1489),u=a(6572),c=a(4075),m=a(6422),d=a(3369),p=a(6824),w=a(8521),h=a(240),g=a(2902);const f=(0,s.Uk)(" Add Category"),y=(0,s.Uk)("Add Category");function W(e,t,a,W,_,k){return(0,s.wg)(),(0,s.j4)(d.K,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p.o,{"no-gutters":""},{default:(0,s.w5)((()=>[(0,s.Wm)(w.D,{sm:"10",class:"mx-auto"},{default:(0,s.w5)((()=>[(0,s.Wm)(i._,{class:"pa-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(u.E,null,{default:(0,s.w5)((()=>[f])),_:1}),(0,s.Wm)(c.J),(0,s.Wm)(m.O,{ref:"form",onSubmit:(0,l.iM)(e.submitForm,["prevent"]),class:"pa-5",enctype:"multipart/form-data"},{default:(0,s.w5)((()=>[(0,s.Wm)(g.h,{label:" Category Name",modelValue:_.category.name,"onUpdate:modelValue":t[0]||(t[0]=e=>_.category.name=e),"prepend-icon":"mdi-note",rules:_.rules},null,8,["modelValue","rules"]),(0,s.Wm)(h.r,{items:_.colors,"item-title":"title","item-value":"value","item-color":"blue","bg-color":_.color,label:"Color","prepend-icon":"mdi-format-color-fill",modelValue:_.color,"onUpdate:modelValue":t[1]||(t[1]=e=>_.color=e)},null,8,["items","bg-color","modelValue"]),_.message?((0,s.wg)(),(0,s.j4)(n.w,{key:0,"close-text":"Close Alert",color:"warning"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(_.message),1)])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(w.D,{class:"text-right"},{default:(0,s.w5)((()=>[(0,s.Wm)(r.T,{onClick:k.addCategory,class:"mt-3",color:"success"},{default:(0,s.w5)((()=>[y])),_:1},8,["onClick"])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1})])),_:1})}a(6699);var _=a(3345),k=a(643),v={props:{update:Boolean},watch:{update:async function(e,t){console.log("arrivato");const a=await k.Z.getCategoriesByAccountUsername(this.$route.params.username);for(const s of a)this.categoryNamesUsed.push(s.name)}},data(){return{rules:[e=>!!e||"This field is required!"],category:{name:"My New Category",color:""},message:"",categoryNamesUsed:[],color:"success",colors:[{title:"green",value:"success"},{title:"white",value:"white"},{title:"red",value:"error"},{title:"blue",value:"primary"},{title:"orange",value:"warning"},{title:"acquamarina",value:"secondary"}]}},async created(){const e=await k.Z.getCategoriesByAccountUsername(this.$route.params.username);for(const t of e)this.categoryNamesUsed.push(t.name)},methods:{async addCategory(){if(""!=this.category.name)if(this.categoryNamesUsed.includes(this.category.name))this.message="Chosen category name is already in use";else try{const e=await _.Z.getAccountByUsername(this.$route.params.username),t={name:this.category.name,color:this.color,accountFK:e[0]._id};await k.Z.addCategory(t),this.$router.push({name:"home",params:{username:this.$route.params.username}}),this.$emit("updated")}catch(e){console.log(e.message)}}}},C=a(89);const U=(0,C.Z)(v,[["render",W]]);var b=U},9523:function(e,t,a){a.r(t),a.d(t,{default:function(){return $}});var s=a(3396),l=a(7139),o=a(9242),n=a(3909),r=a(5101),i=a(1489),u=a(6572),c=a(1888),m=a(3369),d=a(6824),p=a(8521),w=a(9234),h=a(3289);const g=e=>((0,s.dD)("data-v-d9fab806"),e=e(),(0,s.Cn)(),e),f=g((()=>(0,s._)("br",null,null,-1))),y=(0,s.Uk)("mdi-wrench"),W=(0,s.Uk)(" Edit ");function _(e,t,a,g,_,k){const v=(0,s.up)("floating-button");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(m.K,null,{default:(0,s.w5)((()=>[this.$route.params.message?((0,s.wg)(),(0,s.j4)(n.w,{key:0,"close-text":"Close Alert",color:"green accent-4",dark:"",dismissible:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(this.$route.params.message),1)])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(d.o,{"no-gutters":""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(_.categories,(e=>((0,s.wg)(),(0,s.j4)(p.D,{cols:"auto",class:"pa-5",key:e._id},{default:(0,s.w5)((()=>[(0,s.Wm)(i._,{color:e.color,class:"pa-1",to:{name:"transactions",params:{username:this.$route.params.username,category:e.name}}},{default:(0,s.w5)((()=>[(0,s.Wm)(u.E,{class:"headline","prepend-icon":"mdi - account"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.name),1)])),_:2},1024),(0,s.Wm)(c.Z,{class:"py-0"},{default:(0,s.w5)((()=>[(0,s._)("p",null," Total Amount : "+(0,l.zw)(e.amount)+" € ",1)])),_:2},1024),f,(0,s.Wm)(p.D,null,{default:(0,s.w5)((()=>[(0,s.Wm)(d.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(w.C),(0,s.Wm)(r.T,{class:"mt-3",onClick:(0,o.iM)((t=>k.editCategory(e)),["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(h.t,{color:"white"},{default:(0,s.w5)((()=>[y])),_:1}),W])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["color","to"])])),_:2},1024)))),128))])),_:1})])),_:1}),(0,s.Wm)(v,{onClicked:k.addCategory},null,8,["onClicked"])],64)}var k=a(643),v=a(1204),C={name:"Home",props:{update:Boolean},watch:{update:async function(e,t){this.categories=await k.Z.getCategoriesByAccountUsername(this.$route.params.username)}},data(){return{categories:[]}},components:{"floating-button":v.Z},async created(){this.categories=await k.Z.getCategoriesByAccountUsername(this.$route.params.username)},methods:{addCategory(){this.$router.push({name:"add-category",params:{username:this.$route.params.username}})},editCategory(e){this.$router.push({name:"edit-category",params:{name:e.name,username:this.$route.params.username}})}}},U=a(89);const b=(0,U.Z)(C,[["render",_],["__scopeId","data-v-d9fab806"]]);var $=b},6750:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var s=a(3396),l=a(9242),o=a(5101),n=a(1489),r=a(6572),i=a(4075),u=a(6422),c=a(3369),m=a(6824),d=a(8521),p=a(9234),w=a(240),h=a(2902);const g=(0,s.Uk)("Edit Category"),f=(0,s.Uk)("Delete "),y=(0,s.Uk)("Edit");function W(e,t,a,W,_,k){const v=(0,s.up)("message-confirm");return(0,s.wg)(),(0,s.j4)(c.K,null,{default:(0,s.w5)((()=>[(0,s.Wm)(v,{text:_.deleteMessage,ref:"dialog",onConfirm:k.deleteCategory},null,8,["text","onConfirm"]),(0,s.Wm)(m.o,{"no-gutters":""},{default:(0,s.w5)((()=>[(0,s.Wm)(d.D,{sm:"10",class:"mx-auto"},{default:(0,s.w5)((()=>[(0,s.Wm)(n._,{class:"pa-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(r.E,null,{default:(0,s.w5)((()=>[g])),_:1}),(0,s.Wm)(i.J),(0,s.Wm)(u.O,{ref:"form",class:"pa-5",enctype:"multipart/form-data"},{default:(0,s.w5)((()=>[(0,s.Wm)(h.h,{label:" Category Name",modelValue:_.category.name,"onUpdate:modelValue":t[0]||(t[0]=e=>_.category.name=e),"prepend-icon":"mdi-note",rules:_.rules},null,8,["modelValue","rules"]),(0,s.Wm)(w.r,{items:_.colors,"item-title":"title","item-value":"value","item-color":"blue","bg-color":_.color,label:"Color","prepend-icon":"mdi-format-color-fill",modelValue:_.color,"onUpdate:modelValue":t[1]||(t[1]=e=>_.color=e)},null,8,["items","bg-color","modelValue"]),(0,s.Wm)(d.D,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(o.T,{onClick:(0,l.iM)(k.openMessageConfirm,["prevent"]),class:"mt-3",color:"error"},{default:(0,s.w5)((()=>[f])),_:1},8,["onClick"]),(0,s.Wm)(p.C),(0,s.Wm)(o.T,{onClick:(0,l.iM)(k.updateCategory,["prevent"]),class:"mt-3",color:"primary"},{default:(0,s.w5)((()=>[y])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},512)])),_:1})])),_:1})])),_:1})])),_:1})}var _=a(643),k=a(9172),v={props:{update:Boolean},watch:{update:function(e,t){this.$router.push({name:"home",params:{username:this.$route.params.username}})}},data(){return{deleteMessage:"Are you sure to delete Category and all linked transactions?",rules:[e=>!!e||"This field is required!"],category:{name:"My New Category",color:""},color:"success",colors:[{title:"green",value:"success"},{title:"white",value:"white"},{title:"red",value:"error"},{title:"blue",value:"primary"},{title:"orange",value:"warning"},{title:"acquamarina",value:"secondary"}]}},components:{messageConfirm:k.Z},methods:{async updateCategory(){if(""!=this.category.name)try{this.category.color=this.color,await _.Z.updateCategory(this.category._id,this.category),this.$router.push({name:"home",params:{username:this.$route.params.username}}),this.$emit("updated")}catch(e){console.log(e.message)}},async deleteCategory(){try{await _.Z.deleteCategory(this.category._id),this.$router.push({name:"home",params:{username:this.$route.params.username}})}catch(e){console.log(e.message)}},openMessageConfirm(){this.$refs.dialog.open()}},async created(){const e=await _.Z.getCategoryByName(this.$route.params.name);this.category=e,this.color=e.color}},C=a(89);const U=(0,C.Z)(v,[["render",W]]);var b=U},7359:function(e,t,a){a.r(t),a.d(t,{default:function(){return V}});var s=a(3396),l=a(9242),o=a(7139),n=a(3909),r=a(5101),i=a(1489),u=a(6572),c=a(4075),m=a(6422),d=a(3369),p=a(6824),w=a(8521),h=a(240),g=a(2902);const f=(0,s.Uk)(" Add Transaction"),y=(0,s.Uk)("Add Transaction");function W(e,t,a,W,_,k){return(0,s.wg)(),(0,s.j4)(d.K,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p.o,{"no-gutters":""},{default:(0,s.w5)((()=>[(0,s.Wm)(w.D,{sm:"10",class:"mx-auto"},{default:(0,s.w5)((()=>[(0,s.Wm)(i._,{class:"pa-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(u.E,null,{default:(0,s.w5)((()=>[f])),_:1}),(0,s.Wm)(c.J),(0,s.Wm)(m.O,{ref:"form",onSubmit:(0,l.iM)(e.submitForm,["prevent"]),class:"pa-5",enctype:"multipart/form-data"},{default:(0,s.w5)((()=>[(0,s.Wm)(g.h,{label:"Transaction Name",modelValue:_.transaction.name,"onUpdate:modelValue":t[0]||(t[0]=e=>_.transaction.name=e),"prepend-icon":"mdi-note",rules:_.rules},null,8,["modelValue","rules"]),(0,s.Wm)(g.h,{type:"number",label:"Money Amount",modelValue:_.transaction.amount,"onUpdate:modelValue":t[1]||(t[1]=e=>_.transaction.amount=e),"prepend-icon":"mdi-cash",rules:_.rules},null,8,["modelValue","rules"]),(0,s.Wm)(g.h,{type:"date",label:"Transaction Date",modelValue:_.transaction.date,"onUpdate:modelValue":t[2]||(t[2]=e=>_.transaction.date=e),rules:_.rules,"prepend-icon":"mdi-calendar"},null,8,["modelValue","rules"]),(0,s.Wm)(h.r,{"bg-color":"white","mb-22":"",items:_.categories,"item-title":"name","item-value":"_id",label:"Category",modelValue:_.category,"onUpdate:modelValue":t[3]||(t[3]=e=>_.category=e),"hide-details":"","prepend-icon":"mdi-shopping",rules:_.rules},null,8,["items","modelValue","rules"]),(0,s.Wm)(h.r,{"bg-color":"white",items:_.wallets,"item-title":"name","item-value":"_id",label:"Wallet",modelValue:_.wallet,"onUpdate:modelValue":t[4]||(t[4]=e=>_.wallet=e),"hide-details":"","prepend-icon":"mdi-wallet",rules:_.rules},null,8,["items","modelValue","rules"]),_.message?((0,s.wg)(),(0,s.j4)(n.w,{key:0,color:"error",dismissible:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(_.message),1)])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(w.D,{class:"text-right"},{default:(0,s.w5)((()=>[(0,s.Wm)(r.T,{onClick:k.addTransaction,class:"mt-3",color:"success"},{default:(0,s.w5)((()=>[y])),_:1},8,["onClick"])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1})])),_:1})}var _=a(3345),k=a(268),v=a(4659),C=a(643),U={props:{update:Boolean},watch:{update:async function(e,t){try{this.wallets=await v.Z.getWalletsByAccountUsername(this.$route.params.username),this.categories=await C.Z.getCategoriesByAccountUsername(this.$route.params.username),0!=this.wallets.length&&0!=this.categories.length||(this.message="Create at least one category and one wallet in order to create a transaction")}catch{}}},data(){return{rules:[e=>!!e||"This field is required!"],transaction:{name:"My New Transaction",amount:"0",date:"",accountFK:"",categoryFK:"",walletFK:""},category:void 0,categories:[],wallet:void 0,wallets:[],message:""}},async created(){try{this.wallets=await v.Z.getWalletsByAccountUsername(this.$route.params.username),this.categories=await C.Z.getCategoriesByAccountUsername(this.$route.params.username),0!=this.wallets.length&&0!=this.categories.length||(this.message="Create at least one category and one wallet in order to create a transaction")}catch{}},methods:{async addTransaction(){if(""!=this.transaction.name&&""!=this.transaction.amount&&""!=this.transaction.date&&void 0!=this.category&&void 0!=this.wallet)try{const e=await _.Z.getAccountByUsername(this.$route.params.username),t={name:this.transaction.name,amount:this.transaction.amount,date:this.transaction.date,accountFK:e[0]._id,categoryFK:this.category,walletFK:this.wallet};await k.Z.addTransaction(t),this.$router.push({name:"transactions",params:{username:this.$route.params.username}}),this.$emit("updated")}catch(e){console.log(e.message)}else this.message="Fill all the fields in order to create a Transaction"}}},b=a(89);const $=(0,b.Z)(U,[["render",W],["__scopeId","data-v-ef540e34"]]);var V=$},4039:function(e,t,a){a.r(t),a.d(t,{default:function(){return L}});var s=a(3396),l=a(9242),o=a(7139),n=a(5101),r=a(1489),i=a(1334),u=a(6572),c=a(3749),m=a(4075),d=a(3369),p=a(6824),w=a(9234),h=a(8521),g=a(3289),f=a(240),y=a(2902);const W=e=>((0,s.dD)("data-v-655174b2"),e=e(),(0,s.Cn)(),e),_=(0,s.Uk)("mdi-eye"),k=(0,s.Uk)(" Show Filters "),v=(0,s.Uk)("mdi-shopping"),C=(0,s.Uk)("mdi-wallet"),U=(0,s.Uk)("mdi-filter-off"),b=(0,s.Uk)(" Reset Filters "),$=(0,s.Uk)("mdi-eye-off"),V=(0,s.Uk)(" Hide Filters "),Z={style:{"min-width":"0"}},A=W((()=>(0,s._)("br",null,null,-1))),M={class:"icon-div-green"},T=(0,s.Uk)("mdi-cash-usd"),D={class:"icon-div-blue"},B=(0,s.Uk)("mdi-shopping"),x={class:"icon-div-brown"},F=(0,s.Uk)("mdi-wallet"),K={class:"icon-div-amber"},P=(0,s.Uk)("mdi-calendar"),j=["onClick"],q=(0,s.Uk)("mdi-trash-can"),z=(0,s.Uk)(" Delete ");function N(e,t,a,W,N,E){const I=(0,s.up)("message-confirm"),S=(0,s.up)("floating-button");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(d.K,null,{default:(0,s.w5)((()=>[(0,s.Wm)(I,{text:N.deleteMessage,ref:"messageConfirm",onConfirm:E.deleteTransaction},null,8,["text","onConfirm"]),N.showFilters?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(n.T,{key:0,"pb-5":"",class:"filters-button",onClick:t[0]||(t[0]=(0,l.iM)((e=>E.changeFiltersVisibility()),["prevent"]))},{default:(0,s.w5)((()=>[(0,s.Wm)(g.t,{color:"white"},{default:(0,s.w5)((()=>[_])),_:1}),k])),_:1})),N.showFilters?((0,s.wg)(),(0,s.j4)(r._,{key:1,class:"pa-5 d-flex align-center justify-center",color:"deep-orange accent-4"},{default:(0,s.w5)((()=>[(0,s.Wm)(p.o,{align:"center"},{default:(0,s.w5)((()=>[(0,s.Wm)(w.C),(0,s.Wm)(f.r,{"bg-color":"white","ma-5":"",class:"unexpandable",items:N.categories,"item-title":"name","item-value":"name",label:"Category",modelValue:N.category,"onUpdate:modelValue":t[1]||(t[1]=e=>N.category=e),"hide-details":""},{prepend:(0,s.w5)((()=>[(0,s.Wm)(g.t,{color:"white"},{default:(0,s.w5)((()=>[v])),_:1})])),_:1},8,["items","modelValue"]),(0,s.Wm)(w.C),(0,s.Wm)(f.r,{"bg-color":"white",class:"unexpandable",items:N.wallets,"item-title":"name","item-value":"name",label:"Wallet",modelValue:N.wallet,"onUpdate:modelValue":t[2]||(t[2]=e=>N.wallet=e),"hide-details":""},{prepend:(0,s.w5)((()=>[(0,s.Wm)(g.t,{color:"white"},{default:(0,s.w5)((()=>[C])),_:1})])),_:1},8,["items","modelValue"]),(0,s.Wm)(w.C),(0,s.Wm)(y.h,{"bg-color":"white",class:"unexpandable",type:"date",label:"From Date",modelValue:N.fromDate,"onUpdate:modelValue":t[3]||(t[3]=e=>N.fromDate=e),"hide-details":""},null,8,["modelValue"]),(0,s.Wm)(w.C),(0,s.Wm)(y.h,{"bg-color":"white",class:"unexpandable",type:"date",label:"To Date",modelValue:N.toDate,"onUpdate:modelValue":t[4]||(t[4]=e=>N.toDate=e),"hide-details":""},null,8,["modelValue"]),(0,s.Wm)(w.C),(0,s.Wm)(i.h,{class:"filters-actions"},{default:(0,s.w5)((()=>[N.showFilters?((0,s.wg)(),(0,s.j4)(n.T,{key:0,onClick:t[5]||(t[5]=(0,l.iM)((e=>E.resetFilters()),["prevent"])),color:"white"},{default:(0,s.w5)((()=>[(0,s.Wm)(g.t,null,{default:(0,s.w5)((()=>[U])),_:1}),b])),_:1})):(0,s.kq)("",!0),N.showFilters?((0,s.wg)(),(0,s.j4)(n.T,{key:1,onClick:t[6]||(t[6]=(0,l.iM)((e=>E.changeFiltersVisibility()),["prevent"])),color:"white"},{default:(0,s.w5)((()=>[(0,s.Wm)(g.t,null,{default:(0,s.w5)((()=>[$])),_:1}),V])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(h.D,{"no-gutters":""},{default:(0,s.w5)((()=>[(0,s.Wm)(p.o,null,{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(N.transactions.filter((e=>E.visible(e))),(e=>((0,s.wg)(),(0,s.j4)(h.D,{cols:"auto",class:"pa-10",key:e._id},{default:(0,s.w5)((()=>[(0,s.Wm)(r._,{dense:"",class:"transaction-card"},{default:(0,s.w5)((()=>[(0,s.Wm)(p.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(w.C),(0,s._)("div",Z,[(0,s.Wm)(u.E,{class:"pl-5 headline","prepend-icon":"mdi - account"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.name),1)])),_:2},1024)]),(0,s.Wm)(w.C)])),_:2},1024),A,(0,s.Wm)(p.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c.k,null,{default:(0,s.w5)((()=>[(0,s._)("div",M,[(0,s.Wm)(g.t,null,{default:(0,s.w5)((()=>[T])),_:1})]),(0,s.Uk)(" "+(0,o.zw)(e.amount)+" € ",1)])),_:2},1024)])),_:2},1024),void 0==N.category?((0,s.wg)(),(0,s.j4)(p.o,{key:0},{default:(0,s.w5)((()=>[(0,s.Wm)(c.k,null,{default:(0,s.w5)((()=>[(0,s._)("div",D,[(0,s.Wm)(g.t,null,{default:(0,s.w5)((()=>[B])),_:1})]),(0,s.Uk)(" "+(0,o.zw)(e.categoryFK),1)])),_:2},1024)])),_:2},1024)):(0,s.kq)("",!0),void 0==N.wallet?((0,s.wg)(),(0,s.j4)(p.o,{key:1},{default:(0,s.w5)((()=>[(0,s.Wm)(c.k,null,{default:(0,s.w5)((()=>[(0,s._)("div",x,[(0,s.Wm)(g.t,null,{default:(0,s.w5)((()=>[F])),_:1})]),(0,s.Uk)(" "+(0,o.zw)(e.walletFK),1)])),_:2},1024)])),_:2},1024)):(0,s.kq)("",!0),(0,s.Wm)(p.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c.k,null,{default:(0,s.w5)((()=>[(0,s._)("div",K,[(0,s.Wm)(g.t,null,{default:(0,s.w5)((()=>[P])),_:1})]),(0,s.Uk)(" "+(0,o.zw)(e.date.slice(0,10)),1)])),_:2},1024)])),_:2},1024),(0,s.Wm)(m.J),(0,s._)("div",{onClick:(0,l.iM)((t=>E.openMessageConfirm(e)),["prevent"])},[(0,s.Wm)(n.T,{class:"delete-button",width:"100%"},{default:(0,s.w5)((()=>[(0,s.Wm)(g.t,null,{default:(0,s.w5)((()=>[q])),_:1}),z])),_:1})],8,j)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1}),(0,s.Wm)(S,{onClicked:E.addTransaction},null,8,["onClicked"])],64)}var E=a(268),I=a(4659),S=a(643),H=a(1204),J=a(9172),O={props:{update:Boolean},watch:{update:async function(e,t){this.wallet=this.$route.params.wallet,this.category=this.$route.params.category;try{this.transactions=await E.Z.getTransactionsByAccountUsername(this.$route.params.username)}catch(a){console.log(a.message)}try{this.wallets=await I.Z.getWalletsByAccountUsername(this.$route.params.username),this.categories=await S.Z.getCategoriesByAccountUsername(this.$route.params.username)}catch(a){console.log(a.message)}}},name:"Home",data(){return{deleteMessage:"Are you sure to delete Transaction?",category:void 0,categories:[],wallet:void 0,wallets:[],transactions:[],clickedTransaction:{},fromDate:void 0,toDate:void 0,showFilters:!0}},components:{"floating-button":H.Z,"message-confirm":J.Z},async created(){this.wallet=this.$route.params.wallet,this.category=this.$route.params.category;try{this.transactions=await E.Z.getTransactionsByAccountUsername(this.$route.params.username)}catch(e){console.log(e.message)}try{this.wallets=await I.Z.getWalletsByAccountUsername(this.$route.params.username),this.categories=await S.Z.getCategoriesByAccountUsername(this.$route.params.username)}catch(e){console.log(e.message)}},methods:{changeFiltersVisibility(){this.showFilters=!this.showFilters},addTransaction(){this.$router.push({name:"add-transaction",params:{username:this.$route.params.username}})},async deleteTransaction(){await E.Z.deleteTransaction(this.clickedTransaction._id),console.log("updated"),this.transactions=await E.Z.getTransactionsByAccountUsername(this.$route.params.username)},visible(e){var t=!0;return void 0!=this.category&&e.categoryFK!=this.category&&(t=!1),void 0!=this.wallet&&e.walletFK!=this.wallet&&(t=!1),void 0!=this.fromDate&&e.date<this.fromDate&&(t=!1),void 0!=this.toDate&&e.date>this.toDate&&(t=!1),t},openMessageConfirm(e){this.clickedTransaction=e,this.$refs.messageConfirm.open()},resetFilters(){this.category=void 0,this.wallet=void 0,this.fromDate=void 0,this.toDate=void 0}}},Y=a(89);const R=(0,Y.Z)(O,[["render",N],["__scopeId","data-v-655174b2"]]);var L=R},8084:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var s=a(3396),l=a(9242),o=a(7139),n=a(3909),r=a(5101),i=a(1489),u=a(6572),c=a(4075),m=a(6422),d=a(3369),p=a(6824),w=a(8521),h=a(240),g=a(2902);const f=(0,s.Uk)(" Add Wallet"),y=(0,s.Uk)("Add Wallet");function W(e,t,a,W,_,k){return(0,s.wg)(),(0,s.j4)(d.K,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p.o,{"no-gutters":""},{default:(0,s.w5)((()=>[(0,s.Wm)(w.D,{sm:"10",class:"mx-auto"},{default:(0,s.w5)((()=>[(0,s.Wm)(i._,{class:"pa-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(u.E,null,{default:(0,s.w5)((()=>[f])),_:1}),(0,s.Wm)(c.J),(0,s.Wm)(m.O,{ref:"form",onSubmit:(0,l.iM)(e.submitForm,["prevent"]),class:"pa-5",enctype:"multipart/form-data"},{default:(0,s.w5)((()=>[(0,s.Wm)(g.h,{label:"Wallet Name",modelValue:_.wallet.name,"onUpdate:modelValue":t[0]||(t[0]=e=>_.wallet.name=e),"prepend-icon":"mdi-wallet",rules:_.rules},null,8,["modelValue","rules"]),(0,s.Wm)(g.h,{label:"Money",modelValue:_.wallet.money,"onUpdate:modelValue":t[1]||(t[1]=e=>_.wallet.money=e),"prepend-icon":"mdi-cash-usd",rules:_.rules},null,8,["modelValue","rules"]),(0,s.Wm)(h.r,{items:_.colors,"item-title":"title","item-value":"value","item-color":"blue","bg-color":_.color,label:"Color","prepend-icon":"mdi-format-color-fill",modelValue:_.color,"onUpdate:modelValue":t[2]||(t[2]=e=>_.color=e)},null,8,["items","bg-color","modelValue"]),_.message?((0,s.wg)(),(0,s.j4)(n.w,{key:0,"close-text":"Close Alert",color:"warning"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(_.message),1)])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(w.D,{class:"text-right"},{default:(0,s.w5)((()=>[(0,s.Wm)(r.T,{onClick:k.addWallet,class:"mt-3",color:"success"},{default:(0,s.w5)((()=>[y])),_:1},8,["onClick"])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1})])),_:1})}a(6699);var _=a(3345),k=a(4659),v={props:{update:Boolean},watch:{update:async function(e,t){const a=await k.Z.getWalletsByAccountUsername(this.$route.params.username);for(const s of a)this.walletNamesUsed.push(s.name)}},data(){return{rules:[e=>!!e||"This field is required!"],wallet:{name:"My New Wallet",color:"",money:0},message:"",walletNamesUsed:[],color:"success",colors:[{title:"green",value:"success"},{title:"white",value:"white"},{title:"red",value:"error"},{title:"blue",value:"primary"},{title:"orange",value:"warning"},{title:"acquamarina",value:"secondary"}]}},async created(){const e=await k.Z.getWalletsByAccountUsername(this.$route.params.username);for(const t of e)this.walletNamesUsed.push(t.name)},methods:{async addWallet(){if(""!=this.wallet.name)if(this.walletNamesUsed.includes(this.wallet.name))this.message="Chosen wallet name is already in use";else try{const e=await _.Z.getAccountByUsername(this.$route.params.username),t={name:this.wallet.name,color:this.color,money:this.wallet.money,accountFK:e[0]._id};await k.Z.addWallet(t),this.$router.push({name:"wallets",params:{username:this.$route.params.username}}),this.$emit("updated")}catch(e){console.log(e.message)}}}},C=a(89);const U=(0,C.Z)(v,[["render",W]]);var b=U},6175:function(e,t,a){a.r(t),a.d(t,{default:function(){return F}});var s=a(3396),l=a(7139),o=a(9242),n=a(3909),r=a(5101),i=a(1489),u=a(6572),c=a(3369),m=a(8521),d=a(6824),p=a(9234),w=a(3289);const h=(0,s.Uk)("mdi-trash-can"),g=(0,s.Uk)("mdi-cash-minus"),f=(0,s.Uk)("mdi-cash-plus");function y(e,t,a,y,W,_){const k=(0,s.up)("message-confirm"),v=(0,s.up)("insert-value"),C=(0,s.up)("floating-button");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(c.K,null,{default:(0,s.w5)((()=>[(0,s.Wm)(k,{text:W.deleteMessage,ref:"messageConfirm",onConfirm:_.deleteWallet},null,8,["text","onConfirm"]),(0,s.Wm)(v,{text:"Insert money amount",ref:"insertValue",onConfirmValue:_.updateWallet},null,8,["onConfirmValue"]),this.$route.params.message?((0,s.wg)(),(0,s.j4)(n.w,{key:0,"close-text":"Close Alert",color:"green accent-4",dark:"",dismissible:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(this.$route.params.message),1)])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(m.D,{"no-gutters":""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(W.wallets,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"pa-5",key:e._id},[(0,s.Wm)(i._,{width:"100%",color:e.color,to:{name:"transactions",params:{username:this.$route.params.username,wallet:e.name}}},{default:(0,s.w5)((()=>[(0,s.Wm)(d.o,{align:"center"},{default:(0,s.w5)((()=>[(0,s.Wm)(r.T,{class:"ml-5",onClick:(0,o.iM)((t=>_.openMessageConfirm(e)),["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(w.t,{color:"black",size:"25"},{default:(0,s.w5)((()=>[h])),_:1})])),_:2},1032,["onClick"]),(0,s.Wm)(u.E,{class:"pl-5 headline","prepend-icon":"mdi - account"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.name)+" : "+(0,l.zw)(e.money)+" € ",1)])),_:2},1024),(0,s.Wm)(p.C),(0,s.Wm)(d.o),(0,s.Wm)(d.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p.C),(0,s.Wm)(m.D,{style:{"padding-left":"0px","padding-right":"0px","margin-bottom":"5px","margin-top":"5px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(r.T,{class:"pa-2",onClick:(0,o.iM)((t=>_.openInsertValue(!1,e)),["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(w.t,{color:"error",size:"30"},{default:(0,s.w5)((()=>[g])),_:1})])),_:2},1032,["onClick"])])),_:2},1024),(0,s.Wm)(m.D,{style:{"padding-left":"5px","margin-right":"5px","margin-bottom":"5px","margin-top":"5px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(r.T,{class:"pa-2",onClick:(0,o.iM)((t=>_.openInsertValue(!0,e)),["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(w.t,{color:"success",size:"30"},{default:(0,s.w5)((()=>[f])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["color","to"])])))),128))])),_:1})])),_:1}),(0,s.Wm)(C,{onClicked:_.addWallet},null,8,["onClicked"])],64)}var W=a(4659),_=a(1204),k=a(1888),v=a(1334),C=a(4075),U=a(2902);const b=(0,s.Uk)(" Back "),$=(0,s.Uk)(" Confirm ");function V(e,t,a,n,u,c){return 1==u.dialog?((0,s.wg)(),(0,s.iD)("div",{key:0,id:"overlay",onClick:t[2]||(t[2]=(0,o.iM)((e=>c.close()),["prevent"]))},[(0,s.Wm)(i._,{width:"50%",class:"mx-auto",onClick:t[1]||(t[1]=(0,o.iM)((()=>{}),["stop"]))},{default:(0,s.w5)((()=>[(0,s.Wm)(k.Z,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(a.text),1)])),_:1}),(0,s.Wm)(U.h,{class:"pa-5",type:"number",label:"Money",modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e),"prepend-icon":"mdi-cash-usd"},null,8,["modelValue"]),(0,s.Wm)(C.J),(0,s.Wm)(v.h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r.T,{color:"success",flat:"",onClick:(0,o.iM)(c.close,["prevent"])},{default:(0,s.w5)((()=>[b])),_:1},8,["onClick"]),(0,s.Wm)(p.C),(0,s.Wm)(r.T,{color:"error",flat:"",onClick:(0,o.iM)(c.accept,["prevent"])},{default:(0,s.w5)((()=>[$])),_:1},8,["onClick"])])),_:1})])),_:1})])):(0,s.kq)("",!0)}var Z={props:["text"],data(){return{dialog:!1,sign:!0,value:0}},methods:{open(e){this.sign=e,this.dialog=!0},accept(){this.$emit("confirm-value",this.sign?this.value:-this.value),this.dialog=!1},close(){this.dialog=!1}}},A=a(89);const M=(0,A.Z)(Z,[["render",V],["__scopeId","data-v-ded9677c"]]);var T=M,D=a(9172),B={props:{update:Boolean},watch:{update:async function(e,t){this.wallets=await W.Z.getWalletsByAccountUsername(this.$route.params.username)}},name:"Home",data(){return{deleteMessage:"Are you sure to delete Wallet and all linked transactions?",wallets:[],clickedWallet:{}}},components:{"floating-button":_.Z,"insert-value":T,"message-confirm":D.Z},async created(){this.wallets=await W.Z.getWalletsByAccountUsername(this.$route.params.username)},methods:{openInsertValue(e,t){this.clickedWallet=t,this.$refs.insertValue.open(e)},openMessageConfirm(e){this.clickedWallet=e,this.$refs.messageConfirm.open()},addWallet(){this.$router.push({name:"add-wallet",params:{username:this.$route.params.username}})},async updateWallet(e){this.clickedWallet.money=this.clickedWallet.money+e,await W.Z.updateWallet(this.clickedWallet._id,this.clickedWallet),this.$emit("updated")},async deleteWallet(){await W.Z.deleteWallet(this.clickedWallet._id),this.$emit("updated"),this.wallets=await W.Z.getWalletsByAccountUsername(this.$route.params.username)}}};const x=(0,A.Z)(B,[["render",y],["__scopeId","data-v-e4e3ae1e"]]);var F=x}}]);
//# sourceMappingURL=about.17bc7d7e.js.map